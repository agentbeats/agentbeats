import { getScrollableAncestors } from '../../utilities/index.js';
import { useLazyMemo } from '@dnd-kit-svelte/utilities';
const defaultValue = [];
export function useScrollableAncestors(nodeFn) {
    const node = $derived(nodeFn());
    let previousNode = node;
    const ancestors = useLazyMemo((previousValue) => {
        if (!node) {
            return defaultValue;
        }
        if (previousValue &&
            previousValue !== defaultValue &&
            node &&
            previousNode &&
            node.parentNode === previousNode.parentNode) {
            return previousValue;
        }
        return getScrollableAncestors(node);
    });
    $effect(() => {
        previousNode = node;
    });
    return ancestors;
}
