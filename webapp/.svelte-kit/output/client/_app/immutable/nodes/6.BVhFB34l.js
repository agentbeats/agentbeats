import"../chunks/CWj6FrbW.js";import{i as I}from"../chunks/_pPX3X5k.js";import{o as q}from"../chunks/B-G1-8zH.js";import{p as B,f as l,a,b as L,d as _,t as b,k as $,s as x,l as M,c as N,j as d,m as w,n as k,q as y,i as c,e as T,r as z}from"../chunks/D_E79TID.js";import{i as D}from"../chunks/D0mllNP8.js";import{g as C}from"../chunks/BXNnu7_f.js";import{s as F}from"../chunks/CRPrjd5f.js";import{C as G,a as H,b as J,c as K}from"../chunks/B6GxE72l.js";import{C as O}from"../chunks/CDE7rHBv.js";var Q=l("<!> <!>",1),R=l('<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>'),U=l('<button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors">Back to Login</button>'),V=l("<!> <!>",1),W=l('<div class="min-h-screen flex items-center justify-center bg-gray-50 p-4"><!></div>');function ie(P,A){B(A,!1);let s=w(!0),u=w("");q(async()=>{try{const{data:r,error:m}=await F.auth.getSession();if(m)throw m;r.session?(localStorage.setItem("auth_token",r.session.access_token),localStorage.setItem("user_id",r.session.user.id),setTimeout(()=>{C("/dashboard")},1e3)):(d(u,"Authentication failed. No session found."),d(s,!1))}catch(r){console.error("Auth callback error:",r),d(u,"Authentication failed. Please try again."),d(s,!1)}}),I();var f=W(),S=N(f);G(S,{class:"shadow-lg max-w-md w-full p-6",children:(r,m)=>{var h=V(),g=_(h);H(g,{class:"text-center space-y-2",children:(p,E)=>{var o=Q(),n=_(o);J(n,{class:"text-2xl font-bold break-words",children:(i,t)=>{k();var e=b();$(()=>y(e,c(s)?"Signing you in...":"Authentication Error")),a(i,e)},$$slots:{default:!0}});var v=x(n,2);O(v,{class:"break-words",children:(i,t)=>{k();var e=b();$(()=>y(e,c(s)?"Please wait while we complete your sign-in":c(u))),a(i,e)},$$slots:{default:!0}}),a(p,o)},$$slots:{default:!0}});var j=x(g,2);K(j,{class:"text-center flex flex-col items-center gap-6",children:(p,E)=>{var o=M(),n=_(o);{var v=t=>{var e=R();a(t,e)},i=t=>{var e=U();T("click",e,()=>C("/login")),a(t,e)};D(n,t=>{c(s)?t(v):t(i,!1)})}a(p,o)},$$slots:{default:!0}}),a(r,h)},$$slots:{default:!0}}),z(f),a(P,f),L()}export{ie as component};
