import{aA as l}from"./D_E79TID.js";import{u as o,l as a,e as t,s as i}from"./CRPrjd5f.js";l(o,r=>!!r);l(o,r=>r==null?void 0:r.email);l(o,r=>{var e;return((e=r==null?void 0:r.user_metadata)==null?void 0:e.name)||(r==null?void 0:r.email)});l(o,r=>r==null?void 0:r.id);const f=async r=>{try{a.set(!0),t.set(null);const{data:{user:e},error:s}=await i.auth.updateUser(r);return s?(console.error("Error updating user:",s),t.set(s),null):(o.set(e),e)}catch(e){return console.error("Update user error:",e),t.set(e),null}finally{a.set(!1)}},g=async r=>{try{a.set(!0),t.set(null);const{error:e}=await i.auth.resetPasswordForEmail(r);return e?(console.error("Error resetting password:",e),t.set(e),!1):!0}catch(e){return console.error("Reset password error:",e),t.set(e),!1}finally{a.set(!1)}},d=async(r,e)=>{try{a.set(!0),t.set(null);const{data:s,error:n}=await i.auth.signUp({email:r,password:e});return n?(console.error("Error signing up:",n),t.set(n),!1):(s.user&&o.set(s.user),!0)}catch(s){return console.error("Sign up error:",s),t.set(s),!1}finally{a.set(!1)}},p=async(r,e)=>{try{a.set(!0),t.set(null);const{data:s,error:n}=await i.auth.signInWithPassword({email:r,password:e});return n?(console.error("Error signing in:",n),t.set(n),!1):(o.set(s.user),!0)}catch(s){return console.error("Sign in error:",s),t.set(s),!1}finally{a.set(!1)}},h=async r=>{try{a.set(!0),t.set(null);const{error:e}=await i.auth.signInWithOtp({email:r});return e?(console.error("Error sending magic link:",e),t.set(e),!1):!0}catch(e){return console.error("Magic link error:",e),t.set(e),!1}finally{a.set(!1)}};export{p as a,h as b,g as r,d as s,f as u};
