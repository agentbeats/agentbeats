import { useLazyMemo } from '@dnd-kit-svelte/utilities';
export function useCachedNode(args) {
    const [draggableNodes, id] = $derived(args());
    const draggableNode = $derived(id != null ? draggableNodes.get(id) : undefined);
    const node = $derived(draggableNode ? draggableNode.node : null);
    return useLazyMemo((cachedNode) => {
        if (id == null) {
            return null;
        }
        // In some cases, the draggable node can unmount while dragging
        // This is the case for virtualized lists. In those situations,
        // we fall back to the last known value for that node.
        return node ?? cachedNode ?? null;
    });
}
